[gd_scene load_steps=4 format=3 uid="uid://b3fk15dbc0ims"]

[ext_resource type="Texture2D" uid="uid://dnc08xx2i78ug" path="res://assets/sprites/battle/bullet/bone_sans.png" id="1_20xj2"]

[sub_resource type="GDScript" id="GDScript_gvqwo"]
script/source = "extends Bullet

@onready var sprite = $bone
@onready var offset_left = sprite.offset_left :
	set(value):
		sprite.offset_left = value
@onready var offset_top = sprite.offset_top :
	set(value):
		sprite.offset_top = value
@onready var offset_right = sprite.offset_right :
	set(value):
		sprite.offset_right = value
@onready var offset_bottom = sprite.offset_bottom :
	set(value):
		sprite.offset_bottom = value

func _init():
	curse = e_curse.karma
	damage = 5
	karma = 1

func _ready():
	area2d = $bone/area

func _process(delta):
	if(is_instance_valid(sprite)):
		$bone/area/collision.position = Vector2(sprite.size.x / 2, sprite.size.y / 2)
		$bone/area/collision.shape.size = Vector2(sprite.size.x * .83333, sprite.size.y)
		sprite.pivot_offset = sprite.size / 2

func _physics_process(delta):
	global_position += Vector2(x,y) * speed * delta
	sprite.rotation_degrees += rotation_speed * delta
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mvkgu"]
size = Vector2(12, 12)

[node name="sans_bone" type="Node2D"]
script = SubResource("GDScript_gvqwo")

[node name="bone" type="NinePatchRect" parent="."]
offset_right = 14.4
offset_bottom = 12.0
pivot_offset = Vector2(7, 25)
texture = ExtResource("1_20xj2")
patch_margin_top = 6
patch_margin_bottom = 6

[node name="area" type="Area2D" parent="bone"]

[node name="collision" type="CollisionShape2D" parent="bone/area"]
position = Vector2(7, 6)
shape = SubResource("RectangleShape2D_mvkgu")
